# Kubernetes Citus Cluster Configuration

# Docker Registry
# Build and push the custom Spilo image to your registry
DOCKER_REGISTRY=your-registry.io
IMAGE_NAME=spilo-citus-pgvector
IMAGE_TAG=17-4.0-p3

# Kubernetes Namespace
NAMESPACE=default

# PostgreSQL Configuration
POSTGRES_USER=postgres
# Password will be auto-generated by postgres-operator and stored in secrets

# Storage Configuration
STORAGE_CLASS=standard  # Change to your preferred storage class (e.g., gp2, gp3, standard)
COORDINATOR_STORAGE_SIZE=10Gi
WORKER_STORAGE_SIZE=50Gi

# Resource Configuration
COORDINATOR_CPU_REQUEST=1000m
COORDINATOR_CPU_LIMIT=2000m
COORDINATOR_MEMORY_REQUEST=4Gi
COORDINATOR_MEMORY_LIMIT=8Gi

WORKER_CPU_REQUEST=2000m
WORKER_CPU_LIMIT=4000m
WORKER_MEMORY_REQUEST=8Gi
WORKER_MEMORY_LIMIT=16Gi

# Cluster Configuration
NUMBER_OF_WORKERS=2
COORDINATOR_REPLICAS=2  # HA setup with primary + 1 replica
WORKER_REPLICAS=2       # HA setup with primary + 1 replica per worker

# Network Configuration
ALLOW_SOURCE_RANGES=0.0.0.0/0  # Restrict this in production!
