# GCP-Specific Environment Configuration

# GCP Project
PROJECT_ID=your-gcp-project-id
REGION=us-central1
ZONE=us-central1-a

# GKE Cluster
CLUSTER_NAME=citus-cluster
MACHINE_TYPE=n2-standard-4
NUM_NODES=3

# Docker Registry (Artifact Registry)
# Will be automatically set to: ${REGION}-docker.pkg.dev/${PROJECT_ID}/citus-images
DOCKER_REGISTRY=${REGION}-docker.pkg.dev/${PROJECT_ID}/citus-images
IMAGE_NAME=spilo-citus-pgvector
IMAGE_TAG=17-4.0-p3

# Kubernetes Namespace
NAMESPACE=default

# PostgreSQL Configuration
POSTGRES_USER=postgres
# Password will be auto-generated by postgres-operator and stored in secrets

# Storage Configuration (GCP)
STORAGE_CLASS=standard-rwo  # GKE standard persistent disk (SSD)
# Alternative options:
# - standard-rwo: Standard persistent disk (HDD, cheaper)
# - premium-rwo: SSD persistent disk (faster, more expensive)
COORDINATOR_STORAGE_SIZE=10Gi
WORKER_STORAGE_SIZE=50Gi

# Resource Configuration
COORDINATOR_CPU_REQUEST=1000m
COORDINATOR_CPU_LIMIT=2000m
COORDINATOR_MEMORY_REQUEST=4Gi
COORDINATOR_MEMORY_LIMIT=8Gi

WORKER_CPU_REQUEST=2000m
WORKER_CPU_LIMIT=4000m
WORKER_MEMORY_REQUEST=8Gi
WORKER_MEMORY_LIMIT=16Gi

# Cluster Configuration
NUMBER_OF_WORKERS=2
COORDINATOR_REPLICAS=2  # HA setup with primary + 1 replica
WORKER_REPLICAS=2       # HA setup with primary + 1 replica per worker

# Network Configuration
ALLOW_SOURCE_RANGES=0.0.0.0/0  # ⚠️ Restrict this in production!
# Recommended for production: Use private IP ranges only
# Example: ALLOW_SOURCE_RANGES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# Backup Configuration (Optional)
# BACKUP_BUCKET=${PROJECT_ID}-citus-backups
# ENABLE_LOGICAL_BACKUP=true
# LOGICAL_BACKUP_SCHEDULE="30 00 * * *"

# Monitoring Configuration (Optional)
# ENABLE_MONITORING=true
# PROMETHEUS_NAMESPACE=monitoring
